{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Створення галереї зображень\nexport function markupGallery(images) {\n  return images\n    .map(\n      i => ` <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${i.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${i.webformatURL}\"\n              alt=\"${i.tags}\"\n              width=\"360\"\n              height=\"152\"\n          /></a>\n          <div class=\"parameters-block\">\n            <div class=\"parameter\">\n              <h2 class=\"title\">Likes</h2>\n              <p class=\"amount\">${i.likes}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Views</h2>\n              <p class=\"amount\">${i.views}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Comments</h2>\n              <p class=\"amount\">${i.comments}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Downloads</h2>\n              <p class=\"amount\">${i.downloads}</p>\n            </div>\n          </div>\n        </li>`\n    )\n    .join('');\n}\n","// Запит до Pixabay API\n\n// export function getPictures(query) {\n//   const API_KEY = '42417927-02b658e2f5610bf7e034ab0b0';\n//   const BASE_URL = 'https://pixabay.com/api/';\n\n//   const searchParams = new URLSearchParams({\n//     key: API_KEY,\n//     q: query,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//     per_page: 15,\n//   });\n\n//   return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n\n// Додавання бібліотеки Axios\nimport axios from 'axios';\n\nexport async function getPictures(query, page) {\n  const API_KEY = '42417927-02b658e2f5610bf7e034ab0b0';\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const response = await axios.get(`${BASE_URL}`, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 15,\n      page: page,\n    },\n  });\n  return response.data;\n}\n","// Додавання бібліотеки iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// Додавання бібліотеки SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { markupGallery } from './js/render-functions.js';\nimport { getPictures } from './js/pixabay-api.js';\n\nconst list = document.querySelector('.gallery');\nconst fetcImageForm = document.querySelector('form');\nconst loader = document.querySelector('.loader');\nconst btnLoad = document.querySelector('.btn-load');\n\n//Ініціалізація бібліотеки SimpleLightbox та налаштування опций модального вікна\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nlet pageNumber = 1;\n\nfetcImageForm.addEventListener('submit', fetchImage);\n\nasync function fetchImage(event) {\n  event.preventDefault();\n  list.innerHTML = '';\n\n  btnLoad.classList.add('is-hidden');\n  loader.classList.remove('is-hidden');\n\n  const searchQuery = event.target.elements.search.value.trim();\n\n  getPictures(searchQuery, pageNumber)\n    .then(response => {\n      if (!response.hits.length) {\n        //  Повідомлення про відсутність зображення відповідно запиту / Ініціаналізація бібліотеки iziToast\n        iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          transitionIn: 'bounceInDown',\n          theme: 'dark',\n          messageColor: '#ffffff',\n          messageSize: 16,\n          messageLineHeight: 24,\n          color: '#ef4040',\n          progressBar: false,\n          position: 'topRight',\n          maxWidth: 432,\n        });\n      }\n\n      // Відображення галереї зображень відповідно запиту\n      const markup = markupGallery(response.hits);\n\n      list.insertAdjacentHTML('beforeend', markup);\n\n      lightbox.refresh();\n\n      event.target.reset();\n    })\n    .catch(error => {\n      //   Повідомлення про тип помилки\n      iziToast.error({\n        message: `${error}`,\n        transitionIn: 'bounceInDown',\n        theme: 'dark',\n        messageColor: '#ffffff',\n        messageSize: 16,\n        messageLineHeight: 24,\n        color: '#ef4040',\n        progressBar: false,\n        position: 'topRight',\n        maxWidth: 432,\n      });\n    })\n\n    .finally(() => {\n      loader.classList.add('is-hidden');\n      btnLoad.classList.remove('is-hidden');\n    });\n}\n"],"names":["markupGallery","images","i","getPictures","query","page","API_KEY","BASE_URL","axios","list","fetcImageForm","loader","btnLoad","lightbox","SimpleLightbox","pageNumber","fetchImage","event","searchQuery","response","iziToast","markup","error"],"mappings":"owBACO,SAASA,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GAAK;AAAA,0CAC+BA,EAAE,aAAa;AAAA;AAAA;AAAA,qBAGpCA,EAAE,YAAY;AAAA,qBACdA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAOOA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIPA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIPA,EAAE,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIVA,EAAE,SAAS;AAAA;AAAA;AAAA,cAIxC,EACA,KAAK,EAAE,CACZ,CCRO,eAAeC,EAAYC,EAAOC,EAAM,CAC7C,MAAMC,EAAU,qCACVC,EAAW,2BAajB,OAXiB,MAAMC,EAAM,IAAI,GAAGD,CAAQ,GAAI,CAC9C,OAAQ,CACN,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACP,CACL,CAAG,GACe,IAClB,CChCA,MAAMI,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAgB,SAAS,cAAc,MAAM,EAC7CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAG5CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,IAAIC,EAAa,EAEjBL,EAAc,iBAAiB,SAAUM,CAAU,EAEnD,eAAeA,EAAWC,EAAO,CAC/BA,EAAM,eAAc,EACpBR,EAAK,UAAY,GAEjBG,EAAQ,UAAU,IAAI,WAAW,EACjCD,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMO,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAEvDd,EAAYe,EAAaH,CAAU,EAChC,KAAKI,GAAY,CACXA,EAAS,KAAK,QAEjBC,EAAS,MAAM,CACb,QAAS,2EACT,aAAc,eACd,MAAO,OACP,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,MAAO,UACP,YAAa,GACb,SAAU,WACV,SAAU,GACpB,CAAS,EAIH,MAAMC,EAASrB,EAAcmB,EAAS,IAAI,EAE1CV,EAAK,mBAAmB,YAAaY,CAAM,EAE3CR,EAAS,QAAO,EAEhBI,EAAM,OAAO,OACnB,CAAK,EACA,MAAMK,GAAS,CAEdF,EAAS,MAAM,CACb,QAAS,GAAGE,CAAK,GACjB,aAAc,eACd,MAAO,OACP,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,MAAO,UACP,YAAa,GACb,SAAU,WACV,SAAU,GAClB,CAAO,CACP,CAAK,EAEA,QAAQ,IAAM,CACbX,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAQ,UAAU,OAAO,WAAW,CAC1C,CAAK,CACL"}